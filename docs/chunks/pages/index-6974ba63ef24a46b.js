(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3592)}])},3592:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var r=t(5893),a=t(7294),o=t(9008),s=t.n(o),c=t(196);t(7544),t(1806),t(1917),t(5417);var i=t(7160),u=t.n(i),l=t(1953),d=t(8661),m=t(754),h=t(5670),j=t(9944),_=t(1977),x=t(430),f=t.n(x),b=t(1520),v=t(2956),y=t(622);let p=e=>{let[n,t]=(0,a.useState)(10),[o,s]=(0,a.useState)(0),[i,u]=(0,a.useState)(""),[l,d]=(0,a.useState)("Euro"),[m,h]=(0,a.useState)("United States Dollar"),[j,_]=(0,a.useState)(function(e){var n={};for(var t in e)n[e[t]]=t;return n}(e.currency));var x=()=>{d(m),h(i)};return(0,a.useEffect)(()=>{u(l);let e=setTimeout(()=>{if(l===m)console.log("Meme monnaie selectionner");else if(null!=l&&""!==l&&null!=m&&""!==m){var e="https://api.frankfurter.app/latest?amount="+n+"&from="+j[l]+"&to="+j[m];c.ZP.get(e).then(function(e){var n=Object.keys(e.data.rates)[0];s(e.data.rates[n]),console.log("requete")}).catch(function(e){console.log(e)})}},100);return()=>clearTimeout(e)},[n,l,m]),(0,r.jsx)("div",{className:f().container,children:(0,r.jsxs)("div",{className:f().tableau,children:[(0,r.jsx)(b.Z,{className:f().currencyA,onChange(e,n){d(n)},value:l,disablePortal:!0,id:"combo-box-demo",options:Object.keys(j),renderInput:e=>(0,r.jsx)(v.Z,{...e,label:"Currency"})}),(0,r.jsx)("div",{className:f().iconSwitch,onClick:x,children:(0,r.jsx)(y.Z,{sx:{fontSize:50,cursor:"pointer"}})}),(0,r.jsx)(b.Z,{className:f().currencyB,onChange(e,n){h(n)},value:m,disablePortal:!0,id:"combo-box-demo",options:Object.keys(j),renderInput:e=>(0,r.jsx)(v.Z,{...e,label:"Currency"})}),(0,r.jsx)("div",{className:f().amountA,children:(0,r.jsx)(v.Z,{disabled:null==l||""===l,type:"number",variant:"outlined",sx:{width:"100%"},value:n,onChange:e=>t(e.target.value)})}),(0,r.jsx)("div",{className:f().amountB,children:(0,r.jsx)(v.Z,{disabled:!0,type:"number",variant:"outlined",sx:{width:"100%"},value:o,onChange:e=>s(e.target.value)})})]})})};var g=t(7484),k=t.n(g),C=t(596),Z=t.n(C),N=t(5084),O=t(2359),S=t(6589),Y=t(6829),w=t(1713),H=t(6880),A=t(4195),D=t(3023),q=t(5358),P=t(4888);function E(e){let[n,t]=(0,a.useState)(function(e){var n={};for(var t in e)n[e[t]]=t;return n}(e.currency)),[o,s]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[l,d]=(0,a.useState)({}),[m,h]=(0,a.useState)(),[j,_]=(0,a.useState)(k()().subtract(3,"day")),[x,f]=(0,a.useState)(k()()),y=e=>{_(e)},p=e=>{f(e)};var g=()=>{var e="https://api.frankfurter.app/"+j.format("YYYY")+"-"+j.format("MM")+"-"+j.format("DD")+".."+x.format("YYYY")+"-"+x.format("MM")+"-"+x.format("DD")+"?from="+n[i]+"&to="+n[o];c.ZP.get(e).then(function(e){d(e.data.rates)}).catch(function(e){console.log(e)})};return(0,a.useEffect)(()=>{if(0!==Object.keys(l).length){console.log(Object.keys(l).length),console.log("NAME ",Object.keys(l)[1]),console.log("UV ",l[Object.keys(l)[1]][Object.keys(l[Object.keys(l)[0]])]);for(var e=[],n=0;n<Object.keys(l).length;n++)e.push({name:Object.keys(l)[n],uv:l[Object.keys(l)[n]][Object.keys(l[Object.keys(l)[0]])]});h(e)}},[l]),(0,r.jsxs)("div",{className:Z().container,children:[(0,r.jsxs)("div",{className:Z().containerForm,children:[(0,r.jsx)(b.Z,{className:Z().currencyHistoric,onChange(e,n){s(n)},disablePortal:!0,options:Object.keys(n),renderInput:e=>(0,r.jsx)(v.Z,{...e,label:"Currency"})}),(0,r.jsx)(b.Z,{className:Z().currencyRef,onChange(e,n){u(n)},disablePortal:!0,options:Object.keys(n),renderInput:e=>(0,r.jsx)(v.Z,{...e,label:"Reference Currency"})}),(0,r.jsxs)(O._,{dateAdapter:Y.y,children:[(0,r.jsx)(S.O,{className:Z().dateFrom,label:"from",inputFormat:"DD/MM/YYYY",value:j,onChange:y,renderInput:e=>(0,r.jsx)(v.Z,{...e})}),(0,r.jsx)(S.O,{className:Z().dateTo,label:"to",inputFormat:"DD/MM/YYYY",value:x,onChange:p,renderInput:e=>(0,r.jsx)(v.Z,{...e})})]}),(0,r.jsx)(N.Z,{variant:"contained",className:Z().bouton,onClick:g,children:"Contained"})]}),(0,r.jsxs)(w.w,{width:600,height:300,data:m,margin:{top:5,right:20,bottom:5,left:0},children:[(0,r.jsx)(H.x,{type:"monotone",dataKey:"uv",stroke:"blue",dot:!1}),(0,r.jsx)(A.q,{stroke:"#ccc",strokeDasharray:"5 5"}),(0,r.jsx)(D.K,{dataKey:"name",tick:!1,label:"Time"}),(0,r.jsx)(q.B,{}),(0,r.jsx)(P.u,{})]})]})}function F(){let[e,n]=(0,a.useState)([]),[t,o]=a.useState("1"),i=(e,n)=>{o(n)};return(0,a.useEffect)(()=>{console.log("requete 1"),c.ZP.get("https://api.frankfurter.app/currencies").then(function(e){n(e.data)}).catch(function(e){n([])})},[]),(0,r.jsxs)("div",{className:u().container,children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"Currency App"}),(0,r.jsx)("meta",{name:"description",content:"Convert and check the historical of the main currency"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("main",{className:u().main,children:(0,r.jsx)(l.Z,{sx:{width:"100%",typography:"body1"},children:(0,r.jsxs)(h.ZP,{value:t,children:[(0,r.jsx)(l.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(j.Z,{onChange:i,"aria-label":"lab API tabs example",children:[(0,r.jsx)(d.Z,{label:"Conversion",value:"1"}),(0,r.jsx)(d.Z,{label:"Historique",value:"2"})]})}),(0,r.jsx)(_.Z,{value:"1",className:u().conversion,children:0===e.length?(0,r.jsx)(m.Z,{}):(0,r.jsx)(p,{currency:e})}),(0,r.jsx)(_.Z,{value:"2",className:u().conversion,children:0===e.length?(0,r.jsx)(m.Z,{}):(0,r.jsx)(E,{currency:e})})]})})})]})}},430:function(e){e.exports={container:"Conversion_container__JSpdo",tableau:"Conversion_tableau__zx1u_",currencyA:"Conversion_currencyA__YXDfX",currencyB:"Conversion_currencyB__jViFd",iconSwitch:"Conversion_iconSwitch__Aum57",amountA:"Conversion_amountA__FKNg6",amountB:"Conversion_amountB__uLhlc"}},596:function(e){e.exports={container:"Historique_container__dOXyd",containerForm:"Historique_containerForm__8zps6",currencyHistoric:"Historique_currencyHistoric__UbyO1",currencyRef:"Historique_currencyRef__6N3ma",dateFrom:"Historique_dateFrom__2rlAu",dateTo:"Historique_dateTo__RZ7Sv",bouton:"Historique_bouton__Nr56y"}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",conversion:"Home_conversion__vbGyD"}}},function(e){e.O(0,[928,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);